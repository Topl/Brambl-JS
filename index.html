<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Home - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Classes</li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Brambl.html">Brambl</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Brambl.html#.Hash">Hash</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Brambl.html#.KeyManager">KeyManager</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Brambl.html#.Requests">Requests</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Brambl.html#addSigToTx">addSigToTx</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Brambl.html#createAssetCode">createAssetCode</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Brambl.html#pollTx">pollTx</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Brambl.html#signAndBroadcast">signAndBroadcast</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Brambl.html#transaction">transaction</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Hash.html">Hash</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Hash.html#.any">any</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Hash.html#.file">file</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Hash.html#.string">string</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="KeyManager.html">KeyManager</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="KeyManager.html#.GetKeyStorage">GetKeyStorage</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="KeyManager.html#.Verify">Verify</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="KeyManager.html#exportToFile">exportToFile</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="KeyManager.html#lockKey">lockKey</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="KeyManager.html#sign">sign</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="KeyManager.html#unlockKey">unlockKey</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="KeyManager.KeyManager.html">KeyManager</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="Requests.html">Requests</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Requests.html#broadcastTx">broadcastTx</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Requests.html#createRawArbitTransfer">createRawArbitTransfer</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Requests.html#createRawAssetTransfer">createRawAssetTransfer</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Requests.html#createRawPolyTransfer">createRawPolyTransfer</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Requests.html#getBlockByHeight">getBlockByHeight</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Requests.html#getBlockById">getBlockById</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Requests.html#getLatestBlock">getLatestBlock</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Requests.html#getMempool">getMempool</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Requests.html#getTransactionById">getTransactionById</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Requests.html#getTransactionFromMempool">getTransactionFromMempool</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Requests.html#lookupBalancesByAddresses">lookupBalancesByAddresses</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Requests.html#setApiKey">setApiKey</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="Requests.html#setUrl">setUrl</a></span></li><li class="nav-heading">Modules</li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="utils_address-utils.module_js.html">utils/address-utils.js</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="utils_address-utils.module_js.html#~createAssetCode">createAssetCode</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="utils_address-utils.module_js.html#~extractAddressesFromObj">extractAddressesFromObj</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="utils_address-utils.module_js.html#~generatePubKeyHashAddress">generatePubKeyHashAddress</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="utils_address-utils.module_js.html#~getAddressNetwork">getAddressNetwork</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="utils_address-utils.module_js.html#~getDecimalByNetwork">getDecimalByNetwork</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="utils_address-utils.module_js.html#~getHexByNetwork">getHexByNetwork</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="utils_address-utils.module_js.html#~getValidNetworksList">getValidNetworksList</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="utils_address-utils.module_js.html#~isValidAssetCode">isValidAssetCode</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="utils_address-utils.module_js.html#~isValidMetadata">isValidMetadata</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="utils_address-utils.module_js.html#~isValidNetwork">isValidNetwork</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="utils_address-utils.module_js.html#~validateAddressesByNetwork">validateAddressesByNetwork</a></span></li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="utils_key-utils.module_js.html">utils/key-utils.js</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="utils_key-utils.module_js.html#~create">create</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="utils_key-utils.module_js.html#~decrypt">decrypt</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="utils_key-utils.module_js.html#~deriveKey">deriveKey</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="utils_key-utils.module_js.html#~dump">dump</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="utils_key-utils.module_js.html#~encrypt">encrypt</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="utils_key-utils.module_js.html#~generateKeystoreFilename">generateKeystoreFilename</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="utils_key-utils.module_js.html#~getMAC">getMAC</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="utils_key-utils.module_js.html#~isCipherAvailable">isCipherAvailable</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="utils_key-utils.module_js.html#~keysEncodedFormat">keysEncodedFormat</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="utils_key-utils.module_js.html#~marshal">marshal</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="utils_key-utils.module_js.html#~recover">recover</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="utils_key-utils.module_js.html#~str2buf">str2buf</a></span></li><li class="nav-heading">Namespaces</li><li class="nav-heading"><a href="global.html">Globals</a></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#bramblRequest">bramblRequest</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#digestAndEncode">digestAndEncode</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#hashFunc">hashFunc</a></span></li>
</nav>

<div id="main">
    

    



    









    


    <section class="readme">
        <article><p><img src="https://github.com/Topl/BramblJS/workflows/build/badge.svg?branch=main" alt="build">
<img src="https://github.com/Topl/BramblJS/workflows/gh-pages%20docs/badge.svg?branch=main" alt="gh-pages docs">
<a href="https://badge.fury.io/js/brambljs"><img src="https://badge.fury.io/js/brambljs.svg" alt="npm version"></a></p>
<p>A NodeJS library to facilitate interaction with the Topl blockchain network. This server-side SDK is compliant with the Dion version of the Topl protocol as defined by the reference implementation, <a href="https://github.com/topl/bifrost">Bifrost client</a>.</p>
<h1>Installation</h1>
<p>To install from npm run <code>npm install --save brambljs</code> in your project directory.<br/></p>
<p>To install from source:</p>
<ul>
<li>Git clone using <code>git clone https://github.com/topl/BramblJS</code></li>
<li>Run <code>npm install</code> within the cloned repo to install all dependencies</li>
</ul>
</br>
<h1>Usage</h1>
<h2>BramblJS Library</h2>
<p>A helper library for interacting with the Topl protocol. Requests to the API layer of a chain provider conform to JSON-RPC standards and are managed by the Requests module. Key Management conforms to the Dion specification of the Topl protocol as implemented in the reference client Bifrost v1.3.</p>
<h3>BramblJS provides the following modules:</h3>
<ul>
<li><code>Brambl</code> - primary module that provides high-level capabilities and access to Requests, KeyManager, Hash and Address.</li>
<li><code>Requests</code> - sub-module for sending json-rpc requests to a specified chain provider.</li>
<li><code>KeyManager</code> - sub-module that provides functions for creating, importing, and exporting Bifrost compatible keyfiles.</li>
<li><code>Hash</code> - utility to recreates hashes calculated in Bifrost</li>
<li><code>Address</code> - utility to validate Addresses</li>
</ul>
<p>A brief overview of each module is given below but for a detailed descriptions of all available methods, please visit https://brambljs.docs.topl.co</p>
</br>
<h2>Brambl Module</h2>
<h3>1a. To create a minimal instance of BramblJS in your application, include the following commands:</h3>
<pre class="prettyprint source"><code>const BramblJS = require('brambljs');
const brambl = new BramblJS('YOUR_PASS')
</code></pre>
<p>This will create a new <code>Requests</code> instance targetting a <code>private</code> node running at <code>http://localhost:9085</code>, default api-key <code>topl_the_world!</code> and generate a new <code>KeyManager</code> instance for signing transactions, using Curve25519 and encrypted with <code>YOUR_PASS</code>
</br></br></p>
<h3>1b. Set a different network, url and api key</h3>
<p><em>Required: networkPrefix, password, url, apiKey</em></p>
<pre class="prettyprint source"><code>const BramblJS = require('brambljs');
const brambl = new BramblJS({
    networkPrefix: &quot;private&quot;, // applies to Requests and KeyManager
    password: &quot;topl_the_world!&quot;,
    Requests: {
        url: &quot;http://localhost:9085&quot;, // set url
        apiKey: &quot;YOUR_API_KEY&quot; // set api key for network
    }
    });
</code></pre>
</br>
<h3>1c. Create instances of type KeyManager and Requests and include them as parameters for Brambl</h3>
<p><em>Required: networkPrefix, password, url, apiKey</em></p>
<pre class="prettyprint source"><code>const BramblJS = require('brambljs');
const keyManager = BramblJS.KeyManager({
    networkPrefix: &quot;private&quot;, // network prefix is required
    password: &quot;topl_the_world!&quot;
});
const requests = BramblJS.Requests(&quot;private&quot;, &quot;http://localhost:9085&quot;, &quot;YOUR_API_KEY&quot;);

// network prefix is required and must match the networkPrefix for requests and keyManager
const brambl = new BramblJS({
    networkPrefix: &quot;private&quot;,
    KeyManager: keyManager,
    Requests: requests
    });
</code></pre>
</br>
<h2>Requests Module</h2>
<p>The <code>Requests</code> module is compliant with Bifrost's JSON-RPC interface documented at https://topl-rpc.docs.topl.co<br/>
A new JSON-RPC interface class may be instantiated by:<br/></p>
<pre class="prettyprint source"><code>const requests = BramblJS.Requests(&quot;private&quot;, &quot;http://localhost:9085&quot;, &quot;YOUR_API_KEY&quot;);
</code></pre>
<p>Update the 'url' for requests instance:</p>
<pre class="prettyprint source"><code>requests.setUrl(&quot;http://test.url.net:7091&quot;);
</code></pre>
<p>Update the 'api-key' for requests instance</p>
<pre class="prettyprint source"><code>requests.setApiKey(&quot;YOUR_NEW_KEY&quot;);
</code></pre>
<p>Making Requests using this module directly:</p>
<pre class="prettyprint source"><code>requests.getLatestBlock().then(console.log).catch(console.error)
</code></pre>
<p>Requests can also be done through Brambl module:</p>
<pre class="prettyprint source"><code>brambl.requests.getLatestBlock().then(console.log).catch(console.error)
</code></pre>
<p>By default, requests will be sent to <code>http://localhost:9085</code> unless a new URL was provided.This is the standard address and API port that Bifrost listens on when launched locally. All of the methods available in this module are asynchronous and will return <code>Promises</code> that must be handled using <code>async/await</code> structures or <code>.then()</code>.
</br>
<em>Note: All Requests can be called directly using this module or Brambl Module. Details for every request can be found here: https://brambljs.docs.topl.co/Requests.html</em></p>
</br>
<h3>Brambl-layer API key protection</h3>
<p>By default, Bifrost uses an API key of <code>topl_the_world!</code> to validate requests on locally running test nets. If you are planning to use the Topl Torus service for servicing API requests, you will need to register for an API key from Torus and subsequently use this value in the constructor of the Brambl layer object. Standard best practices for protecting API keys should be followed in this case (i.e. saving variables in .ENV or config files that are not shared with version control).</p>
</br>
<h2>KeyManager</h2>
<p>The <code>KeyManager</code> module is compliant with Bifrost's Gjallarhorn Key Manager service and provides an straightforward interface for creating new keyfiles as well as creating and verifying signatures on transactions. New encrypted keyfiles are generated using Curve25519 key pairs and are encrypted using an AES-256 cipher with a user-specified password. All data within the keyfile is encoded using Base58.
<br/><br/></p>
<h3>1a. A new <code>KeyManager</code> may be created directly using</h3>
<pre class="prettyprint source"><code>const keyManager = BramblJS.KeyManager(&quot;PASSWORD&quot;);
</code></pre>
<p><em>Note: <code>'PASSWORD'</code> is the user provided encryption password for the keyfile.</em></p>
<h3>1b. A new <code>KeyManager</code> may be created for a different network</h3>
<pre class="prettyprint source"><code>const keyManager = BramblJS.KeyManager({ password: &quot;PASSWORD&quot;, networkPrefix: &quot;private&quot;});
</code></pre>
<h3>1c. A new <code>KeyManager</code> can be created by importing a keyfile</h3>
<pre class="prettyprint source"><code>const myKeyPath = &quot;.keyfiles/my-keyfile.json&quot;;
const keyManager = BramblJS.KeyManager({ password: &quot;PASSWORD&quot;, keyPath: myKeyPath});
</code></pre>
<p><em>Note: The network prefix will be determined from the address of the keyfile.</em></p>
<h3>2. Other functions include:</h3>
<pre class="prettyprint source"><code>// get key storage
keyMan.getKeyStorage();

// export to file
let dirPath = &quot;../keyfiles-sample-dir&quot;
keyMan.exportToFile(dirPath); // defaults to ./.keyfiles

// check if key is locked
const isLocked = keyMan.isLocked;

// lock key
keyMan.lockKey();

// unlock key
keyMan.unlockKey(&quot;PASSWORD&quot;);

// retrieve public key
const pk = keyMan.pk;

// retrieve address
const address = keyMan.address;

// retrieve networkPrefix
const networkPrefix = keyMan.networkPrefix;

// sign
let signedKey = keyMan.sign(&quot;TOPL_VALID_MSG&quot;);
console.log(signedKey);
</code></pre>
<p><br/><br/></p>
<h2>Address Utils Module</h2>
<p>The <code>Address Utilities</code> are functions used in BramblJS to validate addresses, create asset codes, validate an address network etc. For all available methods see address-utils.js.
<br/><br/></p>
<h3>1a. Import the utilities outside BramblJS module</h3>
<pre class="prettyprint source"><code>const BramblJS = require('brambljs');
console.log(&quot;Valid Networks: &quot; + BramblJS.utils.getValidNetworksList());
</code></pre>
<p><em>Note: Upon importing brambljs module, the utilities functions can be used without having to create a new instance of Brambl module which generates a new Keyfile (this is an expensive operation).</em></p>
<h3>1b. Import the utilities module using BramblJS module</h3>
<pre class="prettyprint source"><code>const BramblJS = require('brambljs');
const brambl = new BramblJS('YOUR_PASS')

// utils are also accesible through brambljs module
console.log(&quot;Valid Networks: &quot; + brambl.utils.getValidNetworksList());
</code></pre>
<p><em>Note: If a new instance of BramblJS has been created, the utils can be access through this module.</em></p>
<h1>Examples</h1>
<h3>Transactions may be issued using the method <code>brambl.transaction</code> following instantiation of the class.</h3>
<p>In summary, a transaction is implemented by:</p>
<ol>
<li>Requesting a prototype transaction from a specified network provider (i.e Topl Torus service or local private testnet)</li>
<li>Signing the raw transaction bytes using the keyfile in the <code>KeyManager</code> instance.</li>
<li>Sending the fully formed transaction to the <code>broadcastTx</code> method available in the <code>Requests</code> module.</li>
</ol>
<p>After issuance, the <code>pollTx</code> method may be used to begin polling the chain provider to determine the status of the newly issued transaction.</p>
<p>Below are examples for using the BramblJS library with a private testnet running on your localhost. Please consult the <a href="https://github.com/topl/bifrost">Bifrost documentation</a> for further instructions on deploying a local private testnet.
<br/><br/></p>
<h3>REQUIRED: Create a Brambl Instance (see above for more options)</h3>
<pre class="prettyprint source"><code>const BramblJS = require('brambljs');
const brambl = new BramblJS('YOUR_PASS')
</code></pre>
<h3>Retrieving the timestamp of the <code>latest block</code></h3>
<pre class="prettyprint source"><code>brambl.requests.getLatestBlock().then(res => {
        const timestamp = new Date(res.result.bestBlock.header.timestamp);
        const blockHeight = res.result.bestBlock.header.height;
        console.log('Block #' + blockHeight + ' forged ' + timestamp);
    })
</code></pre>
<h3>Create an new AssetCode to be used in <code>Create Raw Asset</code> Transactions</h3>
<pre class="prettyprint source"><code>// short name must be latin1 enconded, up to 8 chars long.
// the key and the network prefix used to instantiate brambl will be used.
const assetCode = brambl.createAssetCode(&quot;name1234&quot;);
</code></pre>
<pre class="prettyprint source"><code>// The following can be used to access the utility function directly, this is independent to Brambl instance.
const assetCode = brambl.utils.Address.createAssetCode(networkPrefix, address, shortName);
</code></pre>
<h3>Issuing a <code>Create Raw Asset</code> transaction amd Polling Tx</h3>
<pre class="prettyprint source"><code>// Create Raw Asset Transfer and sign Tx
const address = brambl.keyManager.address;

const rawAssetParams = {
  &quot;propositionType&quot;: &quot;PublicKeyCurve25519&quot;,
  &quot;recipients&quot;: [
    // basic: [address, quantity]
    // advance: [address, quantity, securityRoot, metadata]
    [address, 4],
    [address, 2],
  ],
  &quot;assetCode&quot;: assetCode,
  &quot;sender&quot;: [address],
  &quot;changeAddress&quot;: address,
  &quot;minting&quot;: true,
  &quot;fee&quot;: 1
};

brambl.transaction('createRawAssetTransfer', rawAssetParams)
  .then(res => { console.log('Unconfirmed transaction'); console.log(res); return res })
    .then(res => brambl.pollTx(res.result.txHash))
    .then(res => { console.log('\nConfirmed transaction'); console.log(res) })
    .catch(console.log)
</code></pre>
<h3>Issuing a <code>Create Raw Arbit</code> transaction</h3>
<pre class="prettyprint source"><code>// Create Raw Arbit Transfer and sign Tx
const address = brambl.keyManager.address;

const rawAssetParams = {
  &quot;propositionType&quot;: &quot;PublicKeyCurve25519&quot;,
  &quot;recipients&quot;: [
    [address, 2]
  ],
  &quot;sender&quot;: [address],
  &quot;changeAddress&quot;: address,
  &quot;consolidationAddress&quot;: address,
  &quot;fee&quot;: 1,
  &quot;data&quot;: &quot;&quot;,
};

brambl.transaction('createRawArbitTransfer', rawAssetParams)
  .then(res => { console.log('Unconfirmed transaction'); console.log(res); return res })
    .then(res => brambl.pollTx(res.result.txHash))
    .then(res => { console.log('\nConfirmed transaction'); console.log(res) })
    .catch(console.log)
</code></pre>
<h3>Issuing a <code>Create Raw Poly</code> transaction</h3>
<pre class="prettyprint source"><code>// Create Raw Poly Transfer and sign Tx
const address = brambl.keyManager.address;

const rawAssetParams = {
  &quot;propositionType&quot;: &quot;PublicKeyCurve25519&quot;,
  &quot;recipients&quot;: [
    [address, 2]
  ],
  &quot;sender&quot;: [address],
  &quot;changeAddress&quot;: address,
  &quot;fee&quot;: 1,
  &quot;data&quot;: &quot;&quot;,
};

brambl.transaction('createRawPolyTransfer', rawAssetParams)
  .then(res => { console.log('Unconfirmed transaction'); console.log(res); return res })
    .then(res => brambl.pollTx(res.result.txHash))
    .then(res => { console.log('\nConfirmed transaction'); console.log(res) })
    .catch(console.log)
</code></pre>
<h3>Lookup Balances By Address</h3>
<pre class="prettyprint source"><code>const addresses = [&quot;AUAftQsaga8DjVfVvq7DK14fm5HvGEDdVLZwexZZvoP7oWkWCLos&quot;, &quot;AUAftQsaga8DjVfVvq7DK14fm5HvGEDdVLZwexZZvoP7oWkWCLos&quot;];
brambl.requests.lookupBalancesByAddresses({addresses: addresses})
  .then((res) => console.log(res))
  .catch((e) => console.error(e));
</code></pre>
<h3>Get Mempool</h3>
<pre class="prettyprint source"><code>brambl.requests.getMempool()
  .then((res) => console.log(res))
  .catch((e) => console.error(e));
</code></pre>
<h3>Get Tx By Id</h3>
<pre class="prettyprint source"><code>brambl.requests.getTransactionById({transactionId: &quot;me5cR4imXjssQsB47sKfaAgciYvYrHZCF6J&quot;})
  .then((res) => console.log(res))
  .catch((e) => console.error(e));
</code></pre>
<h3>Get Tx from Mempool</h3>
<pre class="prettyprint source"><code>brambl.requests.getTransactionFromMempool({transactionId: &quot;me5cR4imXjssQsB47sKfaAgciYvYrHZCF6J&quot;})
  .then((res) => console.log(res))
  .catch((e) => console.error(e));
</code></pre>
<h3>Get Block by Id</h3>
<pre class="prettyprint source"><code>brambl.requests.getBlockById({blockId: &quot;wL12me5cR4imXjssQsB47sKfaAgciYvYrHZCF6JN8v1o&quot;})
  .then((res) => console.log(res))
  .catch((e) => console.error(e));
</code></pre>
<h3>Get Block by Height</h3>
<pre class="prettyprint source"><code>brambl.requests.getBlockByHeight({&quot;height&quot;: 3})
.then((res) => console.log(res))
.catch((e) => console.error(e));
</code></pre>
<br/>
<h1>Testing</h1>
<ul>
<li>Run linter before committing any code or creating a PR: <code>npm run lint</code></li>
<li>You can easily apply some fixes (make sure you review them after): <code>npm run lint:fix</code></li>
<li>Run only unit tests (uses mocha, chai and sinon): <code>npm run test:ut</code></li>
<li>Run only end to end (e2e) tests (uses mocha, chai): <code>npm run test:e2e</code></li>
<li>Run both unit testing and linter: <code>npm run test</code></li>
<li>Run all tests: <code>npm run test:all</code></li>
</ul>
<br/>
<h1>License</h1>
<p>BramblJS is licensed under the <a href="https://www.mozilla.org/en-US/MPL/2.0">Mozilla Public License version 2.0 (MPL 2.0)</a>. A copy of this license may be found <a href="../LICENSE.md">here</a></p></article>
    </section>






</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.4</a> on Wed May 12 2021 16:36:42 GMT+0000 (Coordinated Universal Time) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>